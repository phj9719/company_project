<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">                                                                                                            
<!--                                                                                                        
	/**                                                                                                       
	 *                                                                                                        
	 * WARNING: Auto create                                                                                   
	 * Template File Version : 1.0                                                                            
	 * Create :2017-07-27 10:11                                                                  
	 *                                                                                                        
	 **/                                                                                                      
	 *================================================================                  
     * 프로그램 ID  	: DAY00101_P05                                                    
     * 프로그램 명     	: 신체보호기록
     * Description 	: 
     *================================================================                  
                작성일자         			|  작성자        |  비고                                    
     *================================================================                  
       2022-05-30 14:20        	|  박한준		| 최초작성                         

     *================================================================                      
     *  Statement List                                                                        
     *================================================================                      
                                                                                             
     *================================================================                      
-->
<mapper namespace="DAY00101_P05">
	<!-- 조회 -->
    <select id="DAY00101_P05_DS_DATA_S" parameterType="java.util.HashMap" resultType="java.util.HashMap">
    /*  */
    <![CDATA[
		select sicode
			, bi_nalja
			, bi_number
			, bi_code
			, bi_name
			, '' AS m_group
			, '' AS sex_gb
			, '' AS jumin
			, '' AS m_roomname
			, 구속방법01 AS '보호방법1'
			, 구속방법02 AS '보호방법2'
			, 구속방법03 AS '보호방법3'
			, 구속방법04 AS '보호방법4'
			, 구속방법05 AS '보호방법5'
			, 구속방법06 AS '보호방법6'
			, 구속방법07 AS '보호방법7'
			, 구속방법08 AS '보호방법8'
			, 구속방법09 AS '보호방법9'
			, 구속방법10 AS '보호방법10'
			, 구속방법11 AS '보호방법11'
			, 구속방법12 AS '보호방법12'
			, 세부내용01 AS '수급자상태1'
			, 세부내용02 AS '수급자상태2'
			, 세부내용03 AS '수급자상태3'
			, 세부내용04 AS '수급자상태4'
			, 세부내용05 AS '수급자상태5'
			, 세부내용06 AS '수급자상태6'
			, 세부내용07 AS '수급자상태7'
			, 세부내용08 AS '수급자상태8'
			, 세부내용09 AS '수급자상태9'
			, 세부내용10 AS '수급자상태10'
			, 세부내용11 AS '수급자상태11'
			, 세부내용12 AS '수급자상태12'
			, 담당자01
			, 담당코드01
			, 담당자02
			, 담당코드02
			, 담당자03
			, 담당코드03
			, 담당자04
			, 담당코드04
			, 담당자05
			, 담당코드05
			, 담당자06
			, 담당코드06
			, 담당자07
			, 담당코드07
			, 담당자08
			, 담당코드08
			, 담당자09
			, 담당코드09
			, 담당자10
			, 담당코드10
			, 담당자11
			, 담당코드11
			, 담당자12
			, 담당코드12
			, 시작01
			, 종료01
			, 시작02
			, 종료02
			, 시작03
			, 종료03
			, 시작04
			, 종료04
			, 시작05
			, 종료05
			, 시작06
			, 종료06
			, 시작07
			, 종료07
			, 시작08
			, 종료08
			, 시작09
			, 종료09
			, 시작10
			, 종료10
			, 시작11
			, 종료11
			, 시작12
			, 종료12
			, 제재사유
			, 대안수단
			, 상담내용
			, org_bi_number
			, '' AS VIEW_MANAGER
		FROM base_bind bi
		WHERE sicode = #{sicode}
		AND bi_nalja = #{date}
		AND bi_code = #{m_code} 
	]]>
    </select>
    
    <!-- 삽입 -->
    <insert id="DAY00101_P05_DS_DATA_I" parameterType="java.util.HashMap">
    /*  */
    	INSERT INTO base_bind
		(
			sicode
			, bi_nalja
			, bi_code
			, bi_name
			, 구속방법01
			, 구속방법02
			, 구속방법03
			, 구속방법04
			, 구속방법05
			, 구속방법06
			, 구속방법07
			, 구속방법08
			, 구속방법09
			, 구속방법10
			, 구속방법11
			, 구속방법12
			, 세부내용01
			, 세부내용02
			, 세부내용03
			, 세부내용04
			, 세부내용05
			, 세부내용06
			, 세부내용07
			, 세부내용08
			, 세부내용09
			, 세부내용10
			, 세부내용11
			, 세부내용12
			, 담당자01
			, 담당코드01
			, 담당자02
			, 담당코드02
			, 담당자03
			, 담당코드03
			, 담당자04
			, 담당코드04
			, 담당자05
			, 담당코드05
			, 담당자06
			, 담당코드06
			, 담당자07
			, 담당코드07
			, 담당자08
			, 담당코드08
			, 담당자09
			, 담당코드09
			, 담당자10
			, 담당코드10
			, 담당자11
			, 담당코드11
			, 담당자12
			, 담당코드12
			, 시작01
			, 종료01
			, 시작02
			, 종료02
			, 시작03
			, 종료03
			, 시작04
			, 종료04
			, 시작05
			, 종료05
			, 시작06
			, 종료06
			, 시작07
			, 종료07
			, 시작08
			, 종료08
			, 시작09
			, 종료09
			, 시작10
			, 종료10
			, 시작11
			, 종료11
			, 시작12
			, 종료12
			, 제재사유
			, 대안수단
			, 상담내용
			, org_bi_number
		)
		VALUES
		(
			  #{sicode}
			, #{bi_nalja}
			, #{bi_code}
			, #{bi_name}
			, #{보호방법1}
			, #{보호방법2}
			, #{보호방법3}
			, #{보호방법4}
			, #{보호방법5}
			, #{보호방법6}
			, #{보호방법7}
			, #{보호방법8}
			, #{보호방법9}
			, #{보호방법10}
			, #{보호방법11}
			, #{보호방법12}
			, #{수급자상태1}
			, #{수급자상태2}
			, #{수급자상태3}
			, #{수급자상태4}
			, #{수급자상태5}
			, #{수급자상태6}
			, #{수급자상태7}
			, #{수급자상태8}
			, #{수급자상태9}
			, #{수급자상태10}
			, #{수급자상태11}
			, #{수급자상태12}
			, #{담당자01}
			, #{담당코드01}
			, #{담당자02}
			, #{담당코드02}
			, #{담당자03}
			, #{담당코드03}
			, #{담당자04}
			, #{담당코드04}
			, #{담당자05}
			, #{담당코드05}
			, #{담당자06}
			, #{담당코드06}
			, #{담당자07}
			, #{담당코드07}
			, #{담당자08}
			, #{담당코드08}
			, #{담당자09}
			, #{담당코드09}
			, #{담당자10}
			, #{담당코드10}
			, #{담당자11}
			, #{담당코드11}
			, #{담당자12}
			, #{담당코드12}
			, #{시작01}
			, #{종료01}
			, #{시작02}
			, #{종료02}
			, #{시작03}
			, #{종료03}
			, #{시작04}
			, #{종료04}
			, #{시작05}
			, #{종료05}
			, #{시작06}
			, #{종료06}
			, #{시작07}
			, #{종료07}
			, #{시작08}
			, #{종료08}
			, #{시작09}
			, #{종료09}
			, #{시작10}
			, #{종료10}
			, #{시작11}
			, #{종료11}
			, #{시작12}
			, #{종료12}
			, #{제재사유}
			, #{대안수단}
			, #{상담내용}
			, #{org_bi_number}
		)
    </insert>
    
    <!-- 수정 -->
    <update id="DAY00101_P05_DS_DATA_U" parameterType="java.util.HashMap">
    /*  */
		UPDATE base_bind
		SET  bi_name = #{bi_name}
			, 구속방법01 =  #{보호방법1} 
			, 구속방법02 =  #{보호방법2} 
			, 구속방법03 =  #{보호방법3} 
			, 구속방법04 =  #{보호방법4} 
			, 구속방법05 =  #{보호방법5} 
			, 구속방법06 =  #{보호방법6} 
			, 구속방법07 =  #{보호방법7} 
			, 구속방법08 =  #{보호방법8} 
			, 구속방법09 =  #{보호방법9} 
			, 구속방법10 =  #{보호방법10} 
			, 구속방법11 =  #{보호방법11} 
			, 구속방법12 =  #{보호방법12} 
			, 세부내용01 =  #{수급자상태1} 
			, 세부내용02 =  #{수급자상태2} 
			, 세부내용03 =  #{수급자상태3} 
			, 세부내용04 =  #{수급자상태4} 
			, 세부내용05 =  #{수급자상태5} 
			, 세부내용06 =  #{수급자상태6} 
			, 세부내용07 =  #{수급자상태7} 
			, 세부내용08 =  #{수급자상태8} 
			, 세부내용09 =  #{수급자상태9} 
			, 세부내용10 =  #{수급자상태10} 
			, 세부내용11 =  #{수급자상태11} 
			, 세부내용12 =  #{수급자상태12} 
			, 담당자01  =  #{담당자01} 
			, 담당코드01 =  #{담당코드01} 
			, 담당자02  =  #{담당자02} 
			, 담당코드02 =  #{담당코드02} 
			, 담당자03  =  #{담당자03} 
			, 담당코드03 =  #{담당코드03} 
			, 담당자04  =  #{담당자04} 
			, 담당코드04 =  #{담당코드04} 
			, 담당자05  =  #{담당자05} 
			, 담당코드05 =  #{담당코드05} 
			, 담당자06  =  #{담당자06} 
			, 담당코드06 =  #{담당코드06} 
			, 담당자07  =  #{담당자07} 
			, 담당코드07 =  #{담당코드07} 
			, 담당자08  =  #{담당자08} 
			, 담당코드08 =  #{담당코드08} 
			, 담당자09  =  #{담당자09} 
			, 담당코드09 =  #{담당코드09} 
			, 담당자10  =  #{담당자10} 
			, 담당코드10 =  #{담당코드10} 
			, 담당자11  =  #{담당자11} 
			, 담당코드11 =  #{담당코드11} 
			, 담당자12  =  #{담당자12} 
			, 담당코드12 =  #{담당코드12} 
			, 시작01    = #{시작01}
			, 종료01    = #{종료01}
			, 시작02    = #{시작02}
			, 종료02    = #{종료02}
			, 시작03    = #{시작03}
			, 종료03    = #{종료03}
			, 시작04    = #{시작04}
			, 종료04    = #{종료04}
			, 시작05    = #{시작05}
			, 종료05    = #{종료05}
			, 시작06    = #{시작06}
			, 종료06    = #{종료06}
			, 시작07    = #{시작07}
			, 종료07    = #{종료07}
			, 시작08    = #{시작08}
			, 종료08    = #{종료08}
			, 시작09    = #{시작09}
			, 종료09    = #{종료09}
			, 시작10    = #{시작10}
			, 종료10    = #{종료10}
			, 시작11    = #{시작11}
			, 종료11    = #{종료11}
			, 시작12    = #{시작12}
			, 종료12    = #{종료12}
			, 제재사유   =  #{제재사유} 
			, 대안수단   =  #{대안수단} 
			, 상담내용   =  #{상담내용} 
			, org_bi_number = #{org_bi_number}
		WHERE sicode = #{sicode}
		AND bi_number = #{bi_number}
    </update>
    
    <!-- 삭제 -->
    <delete id="DAY00101_P05_DS_DATA_D" parameterType="java.util.HashMap">
    /*  */
    	DELETE FROM base_bind
    	WHERE sicode = #{sicode}
    	AND	bi_number = #{bi_number}
    </delete>
    
    <!-- 전날 일지 조회 -->
    <select id="DAY00101_P05_DS_RECORD_S" parameterType="java.util.HashMap" resultType="java.util.HashMap">
    /*  */
    <![CDATA[
		select sicode
			, bi_nalja
			, bi_number
			, bi_code
			, bi_name
			, 구속방법01 AS '보호방법1'
			, 구속방법02 AS '보호방법2'
			, 구속방법03 AS '보호방법3'
			, 구속방법04 AS '보호방법4'
			, 구속방법05 AS '보호방법5'
			, 구속방법06 AS '보호방법6'
			, 구속방법07 AS '보호방법7'
			, 구속방법08 AS '보호방법8'
			, 구속방법09 AS '보호방법9'
			, 구속방법10 AS '보호방법10'
			, 구속방법11 AS '보호방법11'
			, 구속방법12 AS '보호방법12'
			, 세부내용01 AS '수급자상태1'
			, 세부내용02 AS '수급자상태2'
			, 세부내용03 AS '수급자상태3'
			, 세부내용04 AS '수급자상태4'
			, 세부내용05 AS '수급자상태5'
			, 세부내용06 AS '수급자상태6'
			, 세부내용07 AS '수급자상태7'
			, 세부내용08 AS '수급자상태8'
			, 세부내용09 AS '수급자상태9'
			, 세부내용10 AS '수급자상태10'
			, 세부내용11 AS '수급자상태11'
			, 세부내용12 AS '수급자상태12'
			, 시작01
			, 종료01
			, 시작02
			, 종료02
			, 시작03
			, 종료03
			, 시작04
			, 종료04
			, 시작05
			, 종료05
			, 시작06
			, 종료06
			, 시작07
			, 종료07
			, 시작08
			, 종료08
			, 시작09
			, 종료09
			, 시작10
			, 종료10
			, 시작11
			, 종료11
			, 시작12
			, 종료12
			, 제재사유
			, 대안수단
			, 상담내용
			, org_bi_number			
		FROM base_bind bi
		WHERE sicode = #{sicode}
		AND bi_nalja BETWEEN DATE_SUB(#{bi_nalja}, INTERVAL 5 DAY) AND DATE_SUB(#{bi_nalja}, INTERVAL 1 DAY)
		AND bi_code = #{bi_code}
		ORDER BY bi_nalja DESC
		LIMIT 1
	]]>
    </select>
    


</mapper>                                                                                                                                                                                                          